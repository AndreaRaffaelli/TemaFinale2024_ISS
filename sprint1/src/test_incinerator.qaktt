System testincinerator

Dispatch startBurn : startBurn(X)
Event burnEnd : burnEnd( ARG )

Event startIncinerator: startIncinerator(X)


Context ctxtest ip [host="localhost" port=6969]

QActor incinerator context ctxtest{ 
	[#
        val BTIME = 3000L;
        val start = 0;
	#]
	State s0 initial{
		printCurrentMessage color red
		delay 500
	}	
	Transition t0
		whenEvent startIncinerator -> start
		
	State start{
		println("($name): Inizio inceneritore") color red
		[# val start =1; #]
		updateResource [#  "incUpdate(1)" #]
	}
	Transition t1
		whenMsg burnStart -> burnStart
		
	State burnStart{
		println("($name): Inizio bruciatura") color red
		delay 3000
		println("($name): Fine bruciatura") color red
		emit burnEnd : burnEnd( stop )
	}
	Transition t2
		whenMsg burnStart -> burnStart	
}
